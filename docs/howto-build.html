<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2017-03-23 -->
<html x="y" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>MPXJ - 
      How To: Build MPXJ</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Jon Iles" />
    <meta name="Date-Revision-yyyymmdd" content="20170323" />
    <meta http-equiv="Content-Language" content="en" />
        
          <!-- Google Analytics -->
    <script type="text/javascript">
    
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-7202224-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    </head>
    
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                MPXJ
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-03-23</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>MPXJ</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="changes-report.html" title="Changes">Changes</a>
            </li>
                                                                                                                                                                                                                                                                                    <li class="expanded">
                          <a href="howto.html" title="How to...">How to...</a>
                    <ul>
                      <li class="none">
                          <a href="howto-start.html" title="Get started">Get started</a>
            </li>
                      <li class="none">
            <strong>Build MPXJ</strong>
          </li>
                      <li class="none">
                          <a href="howto-dotnet.html" title="Use MPXJ with .Net">Use MPXJ with .Net</a>
            </li>
                      <li class="none">
                          <a href="howto-com.html" title="Use MPXJ with COM">Use MPXJ with COM</a>
            </li>
                      <li class="none">
                          <a href="howto-maven.html" title="Use MPXJ with Maven">Use MPXJ with Maven</a>
            </li>
                      <li class="none">
                          <a href="howto-convert.html" title="Convert files">Convert files</a>
            </li>
                      <li class="none">
                          <a href="howto-mpx.html" title="Work with MPX files">Work with MPX files</a>
            </li>
                      <li class="none">
                          <a href="howto-mpp.html" title="Work with MPP files">Work with MPP files</a>
            </li>
                      <li class="none">
                          <a href="howto-mspdi.html" title="Work with MSPDI files">Work with MSPDI files</a>
            </li>
                      <li class="none">
                          <a href="howto-planner.html" title="Work with Planner files">Work with Planner files</a>
            </li>
                      <li class="none">
                          <a href="howto-powerproject.html" title="Work with Powerproject files">Work with Powerproject files</a>
            </li>
                      <li class="none">
                          <a href="howto-primavera.html" title="Work with a Primavera database">Work with a Primavera database</a>
            </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
                  <li class="none">
                          <a href="users.html" title="Users">Users</a>
            </li>
                  <li class="none">
                          <a href="roadmap.html" title="Roadmap">Roadmap</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                        <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
             	
                             
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
    

<div class="section">
<h2>How To: Build MPXJ<a name="How_To:_Build_MPXJ"></a></h2>

<p>Although MPXJ can be downloaded as a complete package from SourceForge,
the development of the library continues between releases and is driven by
user requests for new functionality, and bug fixes being applied to existing
features. Many MPXJ users will work with and ship software based on 
intermediate versions of MPXJ built from the code in Git in order to take
advantage of these enhancements before they become available in an official 
release. This approach is supported by the fact that code is only checked into 
Git if the suite of JUnit regression tests have been completed successfully: 
therefore the quality of the code taken from Git at any point can be guaranteed 
to be as good as that in an official release.</p>


<p>In order to take advantage of MPXJ functionality from Git, you will need to 
understand how to build the library, whether you are using it in the form
of a Java JAR or a .NET DLL. The following sections explain how to do this.</p>
</div>


<div class="section">
<h2>Obtaining the source<a name="Obtaining_the_source"></a></h2>

<p>The first step in the process of building your own version of MPXJ is to obtain 
the latest source from Git. The MPXJ Git repository is on GitHub <a class="externalLink" href="https://github.com/joniles/mpxj" target="_blank">here</a>.
Instructions for cloning the repository can be found on this page.</p>
</div>


<div class="section">
<h2>Building the Java JAR<a name="Building_the_Java_JAR"></a></h2>

<p>The MPXJ build process is based on the use of an Ant script. If you aren't 
familiar with Ant, it is a script execution tool similar in concept to 
make or nmake. The prerequisites for building MPXJ are:
</p>
<ul>
	
<li>A Java Development Kit (JDK) - at the minimum Java 1.6 is required.  
	A suitable JDK can be downloaded from <a class="externalLink" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Oracle</a></li>
	
<li>Apache Ant. I wrote these instructions using version 1.9.2, but the ant build script will probably 
	work happily with older or newer versions. Ant can be downloaded from <a class="externalLink" href="http://ant.apache.org/">http://ant.apache.org</a></li>
	
<li>The latest version of MPXJ from Git. The MPXJ Git repository is on GitHub <a class="externalLink" href="https://github.com/joniles/mpxj" target="_blank">here</a>.</li>
</ul>



<p>
Here are the steps required to build MPXJ, they assume that both Java and Ant
are available on the path.
</p>
<ol style="list-style-type: decimal">
	
<li>Change directory to the the MPXJ folder.</li>
	
<li>At your command prompt, execute the command &quot;ant clean&quot;. This will
	remove any temporary files or previous output from the build process.</li>
	
<li>At your command prompt, execute the command &quot;ant archive&quot;. This will
	build the JAR file.</li>
	
<li>That's it! The file mpxj.jar should now be sat in the root of your
	MPXJ folder.</li>	
</ol> 

</div>


<div class="section">
<h2>Building the .NET DLLs<a name="Building_the_.NET_DLLs"></a></h2>

<p>Building the .NET DLL version of MPXJ uses the same steps described for
building the Java JAR file, but with the additional prerequisite that IKVM 
is available on your system. The steps required are as follows.
</p>
<ol style="list-style-type: decimal">

<li>Download IKVM from 
<a class="externalLink" href="http://www.ikvm.net/" target="_blank">http://www.ikvm.net</a> and
unzip the files into a convenient directory.</li>

<li>Change directory to the MPXJ folder.</li>

<li>Edit the build.xml file and ensure that the property named ikvm.dir is 
set to point to the location where you have unzipped IKVM.</li>

<li>Now you can follow the steps described above to build the Java JAR file. 
The Ant script will recognise that IKVM is present and build the .NET DLL 
in the lib.net folder.</li>
</ol>

</div> 


<div class="section">
<h2>Building the Javadoc<a name="Building_the_Javadoc"></a></h2>

<p>The most recent Javadocs for MPXJ are always available at 
<a class="externalLink" href="http://mpxj.org/" target="_blank">http://mpxj.org</a>, however
if you wish to build a local copy for yourself, follow the instructions above
to build the MPXJ JAR, then at the command prompt enter the command 
&quot;ant document&quot;, which will then generate the Javadoc in the doc/api folder.</p>
</div>


<div class="section">
<h2>Generating the JAXB code<a name="Generating_the_JAXB_code"></a></h2>

<p>In order to read and write various XML file formats, MPXJ relies on code generated by the JAXB tool xjc from
the XML schemas. Normally you will not need to regenerate this source, but if you are changing 
the JAXB implementation, or modifying the use of JAXB in some way, then you
may need to regenerate this code. The following notes detail where the XML schemas used
by MPXJ can be obtained:</p>


<ul>

<li><b>Microsoft Project MSPDI</b>: The XML schema file from which the JAXB code has been generated is
supplied by Microsoft as part of the Microsoft Project SDK, which can be
downloaded from MSDN.</li>

<li><b>Planner</b>: The XML schema file for Planner is distributed with MPXJ in the JAXB subdirectory</li>

<li><b>Primavera PM XML</b>: The XML schema file for PM XML is distributed as part of the Primavera media. 
The relevant archive can be downloaded from the Oracle E-Delivery web site,</li>
</ul>


<p>If you obtain a copy of the XML schema file you want to work with,
you can update  
the JAXB source using the xjc target found in the ant build.xml file. 
Note that the xjc target is platform specific, you will need to 
change the name of xjc tool to be xjc.bat, xjc.exe, or xjc.sh 
depending on your operating system. You will also need to set 
the properties indicated in build.xml to tell it where to 
find xjc and the XML schema file. If you are only regenerating source for
one of the XML schemas, you can comment out the others in the Ant script
to avoid unnecessary work.
</p>
</div>



      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2000&#x2013;2017
                        <a href="http://mpxj.org">Packwood Software</a>.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>